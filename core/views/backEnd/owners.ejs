<!-- page content -->
<div ng-controller="OwnerCtrl" ng-cloak>
    <div ng-cloak ng-show="contetShow==1">
        <div class="page-title">
            <div class="title_left">
                <h3>
                    Propietarios
                </h3>
            </div>
            <div class="title_right">
                <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                    <div class="input-group">
                        <input ng-model="string" ng-change="list()" type="text" class="form-control"
                               placeholder="Buscar por...">
                        <span class="input-group-btn">
                      <button class="btn btn-default" type="button">
                          <i class="fa fa-search"></i>
                      </button>
                    </span>
                    </div>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="row">
            <div class="clearfix"></div>
            <div class="col-xs-12">
                <div>
                    <div class="x_title">
                        <button ng-click="changeView(2)" type="button" class="btn btn-success btn-sm pull-left">
                            <i class="fa fa-plus"></i>
                            Nuevo
                        </button>
                        <div class=" filter-boat pull-right">
                            <span ng-click="filterUser(null)" ng-class="{'filter-active': status==null}"
                                  class="count_top right-space pointer ng-binding"
                                  style="padding: 0 5px;">
                                            Todos
                            </span>
                            <span ng-click="filterUser(true)" ng-class="{'filter-active': status==true}"
                                  style="padding: 0 5px;" class="count_top right-space pointer ng-binding">
                                            <i class="fa fa-check"></i>
                                             Activos
                            </span>
                            <span ng-click="filterUser(false)" ng-class="{'filter-active': status==false}"
                                  style="padding: 0 5px;" class="count_top pointer ng-binding">
                                            <i class="fa fa-ban"></i>
                                            Inactivos
                            </span>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered jambo_table bulk_action">
                                <thead>
                                <tr class="headings">
                                    <th style="min-width: 90px;" class="column-title pointer"
                                        ng-click="changeSortOptions('name')">
                                        <div>Nombre
                                            <i ng-show="sortOptions.field == 'name' && sortOptions.sort == 1"
                                               class="fa fa-sort-amount-asc pull-right"></i>
                                            <i ng-show="sortOptions.field == 'name' && sortOptions.sort == -1"
                                               class="fa fa-sort-amount-desc pull-right"></i>
                                            <i ng-show="sortOptions.field != 'name'" class="fa fa-sort pull-right"
                                               style="opacity: 0.5"></i>
                                        </div>
                                    </th>
                                    <th style="min-width: 95px;" class="column-title pointer"
                                        ng-click="changeSortOptions('surname')">
                                        <div>Apellidos
                                            <i ng-show="sortOptions.field == 'surname' && sortOptions.sort == 1"
                                               class="fa fa-sort-amount-asc pull-right"></i>
                                            <i ng-show="sortOptions.field == 'surname' && sortOptions.sort == -1"
                                               class="fa fa-sort-amount-desc pull-right"></i>
                                            <i ng-show="sortOptions.field != 'surname'" class="fa fa-sort pull-right"
                                               style="opacity: 0.5"></i>
                                        </div>
                                    </th>
                                    <th style="min-width: 155px;" class="column-title pointer"
                                        ng-click="changeSortOptions('registerDate')">
                                        <div>Fecha de Registro
                                            <i ng-show="sortOptions.field == 'registerDate' && sortOptions.sort == 1"
                                               class="fa fa-sort-amount-asc pull-right"></i>
                                            <i ng-show="sortOptions.field == 'registerDate' && sortOptions.sort == -1"
                                               class="fa fa-sort-amount-desc pull-right"></i>
                                            <i ng-show="sortOptions.field != 'registerDate'"
                                               class="fa fa-sort pull-right" style="opacity: 0.5"></i>
                                        </div>
                                    </th>
                                    <th style="min-width: 70px;" class="column-title pointer"
                                        ng-click="changeSortOptions('email')">
                                        <div>Email
                                            <i ng-show="sortOptions.field == 'email' && sortOptions.sort == 1"
                                               class="fa fa-sort-amount-asc pull-right"></i>
                                            <i ng-show="sortOptions.field == 'email' && sortOptions.sort == -1"
                                               class="fa fa-sort-amount-desc pull-right"></i>
                                            <i ng-show="sortOptions.field != 'email'" class="fa fa-sort pull-right"
                                               style="opacity: 0.5"></i>
                                        </div>
                                    </th>
                                    <!--<th class="column-title">Teléfono</th>-->
                                    <th class="column-title">Móvil</th>
                                    <th class="column-title">Tipo de propietario</th>
                                    <th class="column-title">Ciudad</th>
                                    <th class="column-title">Permisos</th>
                                    <th style="min-width: 115px;" class="column-title">Realizadas<i
                                                class="fa fa-calendar pull-right"></i></th>
                                    <th style="min-width: 115px;" class="column-title">Efectuadas<i
                                                class="fa fa-calendar pull-right"></i></th>
                                    <th style="min-width: 115px;" class="column-title">Canceladas<i
                                                class="fa fa-calendar pull-right"></i></th>
                                    <th style="min-width: 100px;" class="column-title">% Comisión</th>
                                    <th style="min-width: 170px;" class="column-title">Acciones</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="us in users" ng-class-even="$index%2==0" ng-class-odd="$index%2==1">
                                    <td>{{us.name}}</td>
                                    <td>{{us.surname}}</td>
                                    <td>{{us.registerDate|date:'dd/MM/yyyy'}}</td>
                                    <td>{{us.email}}</td>
                                    <!--<td>{{us.telephone}}</td>-->
                                    <td>{{us.mobile ? us.mobile:"************"}}</td>
                                    <td>{{us.permissions.typeShipOwner == 0 ? 'Particular' : 'Empresa'}}</td>
                                    <td>{{us.address}}</td>
                                    <td>
                                        <p ng-cloak ng-show="us.permissions.isShipOwner" class="brief col-xs-6"><i>Propietario</i>
                                        </p>
                                        <p ng-cloak ng-show="us.permissions.isAdmin" class="brief col-xs-6">
                                            <i style="float: right;color: #D9534F">Admin</i></p>
                                        <p ng-cloak ng-show="!us.permissions.isAdmin && !us.permissions.isShipOwner"
                                           class="brief col-xs-6">
                                            <i>Usuario</i></p>
                                    </td>
                                    <td class="a-right">{{us.books.book || 0}}
                                    </td>
                                    <td class="a-right">{{us.books.done || 0}}
                                    </td>
                                    <td class="a-right">{{us.books.cancel || 0}}
                                    </td>
                                    <td class="a-right">{{us.commission || 0}}
                                    </td>
                                    <td class="td-button-padding">
                                        <a ng-disabled="!us.conversations.length" ng-click="select(us)" type="button"
                                           data-toggle="modal" data-target=".view-messages"
                                           class="btn btn-info btn-xs"><i class="fa fa-envelope"></i>
                                        </a>
                                        <a ng-click="showProfile(us)" type="button" class="btn btn-primary btn-xs"><i
                                                    class="fa fa-user"></i></a>
                                        <a ng-click="changeStatus(us)" type="button"
                                           ng-class="{'btn-success':us.status , 'btn-danger': !us.status}"
                                           class="btn btn-success btn-xs">
                                            <i class="fa"
                                               ng-class="{'fa-unlock':us.status , 'fa-lock': !us.status}"></i>
                                        </a>
                                        <a ng-click="select(us)" type="button" data-toggle="modal"
                                           data-target=".bs-example-modal-sm" class="btn btn-danger btn-xs">
                                            <i class="fa fa-trash"></i>
                                        </a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <br>
                        <div class="clearfix"></div>
                        <uib-pagination direction-links="false" boundary-links="true" total-items="totalItems"
                                        ng-model="currentPage" max-size="maxSize"
                                        class="pagination pagination-sm no-margin pull-right " ng-change="pageChanged()"
                                        previous-text="&lsaquo;"
                                        next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;">
                        </uib-pagination>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-cloak ng-show="contetShow==2">
        <div class="page-title">
            <div class="title_left">
                <h3>
                    Información Personal
                </h3>
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="row">
            <div class="clearfix"></div>
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div>
                    <div class="x_content">
                        <form id="user-form" name="userForm" class="form-horizontal form-label-left">
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="typep">Tipo de
                                    propietario
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <select ng-model="user.permissions.typeShipOwner"
                                            class="form-control col-md-7 col-xs-12">
                                        <option value="0">Particular</option>
                                        <option value="1">Empresa</option>
                                    </select>
                                </div>
                            </div>
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="name">Nombre <span
                                            class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input ng-model="user.name" ng-validate="defaultValidationStrategy" type="text"
                                           name="name" required="required" class="form-control col-md-7 col-xs-12">
                                </div>
                            </div>
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="name">Apellido <span
                                            class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input ng-model="user.surname" ng-validate="defaultValidationStrategy" type="text"
                                           name="surname" required="required" class="form-control col-md-7 col-xs-12">
                                </div>
                            </div>
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">Email
                                    <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input ng-model="user.email" ng-validate="emailValidationStrategy" type="email"
                                           name="email" required="required" class="form-control col-md-7 col-xs-12">
                                </div>
                            </div>
                            <!--<div class="item form-group">-->
                            <!--<label class="control-label col-md-3 col-sm-3 col-xs-12" for="telephone">Teléfono <span-->
                            <!--class="required">*</span>-->
                            <!--</label>-->
                            <!--<div class="col-md-6 col-sm-6 col-xs-12">-->
                            <!--<input ng-model="user.telephone" ng-validate="phoneValidationStrategy" stype="text"-->
                            <!--name="telephone" class="form-control"-->
                            <!--required="required" class="form-control col-md-7 col-xs-12">-->
                            <!--</div>-->
                            <!--</div>-->
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="telephone">Móvil <span
                                            class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input ng-model="user.mobile" type="number" ng-validate="mobilePValidationStrategy"
                                           required
                                           class="form-control col-md-7 col-xs-12">
                                </div>
                            </div>
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="telephone">Web
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input ng-model="user.web" type="text" ng-validate="urlValidationStrategy"
                                           name="web"
                                           class="form-control col-md-7 col-xs-12">
                                </div>
                            </div>
                            <div class="item form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="telephone">Ciudad <span
                                            class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input ng-model="user.address" ng-validate="defaultValidationStrategy"
                                           name="address" class="form-control col-md-7 col-xs-12"
                                           required="required"/>
                                </div>
                            </div>
                            <div ng-show="!backStep" class="item form-group password-form">
                                <label for="password" class="control-label col-md-3 col-sm-3 col-xs-12">Contraseña
                                    <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input ng-model="user.password" ng-change="changePass()"
                                           ng-validate="defaultValidationStrategy" type="password" name="password"
                                           class="form-control col-md-7 col-xs-12" required="required">
                                </div>
                            </div>
                            <div ng-show="!backStep" class="item form-group password-form">
                                <label for="password2" class="control-label col-md-3 col-sm-3 col-xs-12">
                                    Repetir Contraseña
                                    <span class="required">*</span>
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input ng-model="user.password2" ng-validate="passwordValidationStrategy"
                                           type="password" name="password2" class="form-control col-md-7 col-xs-12"
                                           required="required">
                                </div>
                            </div>
                            <div class="item form-group">
                                <label class="col-md-3 col-sm-3 col-xs-12">
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <a ng-show="backStep" class="btn btn-info btn-sm" data-toggle="modal"
                                       data-target=".password-change-modal-sm">
                                        <i class="fa fa-lock m-right-xs"></i> Cambiar Contraseña</a>
                                    <br/>
                                </div>
                            </div>
                            <div class="ln_solid"></div>
                            <div class="form-group">
                                <div class="col-md-6 col-md-offset-3">
                                    <button ng-disabled="!userForm.$valid" ng-show="!backStep" ng-click="create()"
                                            type="button" class="btn btn-success">
                                        Enviar
                                    </button>
                                    <button ng-disabled="!userForm.$valid" ng-click="update()" ng-show="backStep"
                                            type="button" class="btn btn-success">
                                        Guardar
                                    </button>
                                    <button ng-click="changeView(1)" type="button" class="btn btn-primary">
                                        Cancelar
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-cloak ng-show="contetShow==3">
        <div class="page-title">
            <div class="title_left">
                <h3>
                    Perfil de Usuario
                </h3>
            </div>
            <div class="title_right">
                <button ng-click="changeView(1)" type="button" class="btn btn-primary pull-right">
                    <i class="fa fa-arrow-left"></i> Atrás
                </button>
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="row">
            <div class="clearfix"></div>
            <div class="col-xs-12">
                <div>
                    <div class="x_content">
                        <div class=" col-xs-12 col-md-4 profile_left">
                            <div class="col-xs-8 col-sm-6 col-md-8 profile_img ">
                                <!-- end of image cropping -->
                                <div id="crop-avatar">
                                    <!-- Current avatar -->
                                    <div id="avatar-service-container" class="avatar-view" title="Change the avatar">
                                        <img id="avatar-service"
                                             ng-src="{{user.avatar ? '/service/media/'+user.avatar : '/backend/gentelella/images/user.png'}}"
                                             alt="Avatar" data-toggle="modal" data-target=".avatar-modal" width="100%">
                                    </div>
                                    <div class="modal fade avatar-modal" tabindex="-1" role="dialog" aria-hidden="true">
                                        <div class="modal-dialog modal-lg">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal"><span
                                                                aria-hidden="true">×</span>
                                                    </button>
                                                    <h4 class="modal-title" id="myModalLabel">Seleccionar Avatar</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <div>
                                                        <div ng-show="imageCropStep == 1">
                                                            <br/>
                                                            <input type="file" name="fileInput" id="fileInput"
                                                                   onchange="angular.element(this).scope().fileChanged(event)"/>
                                                        </div>
                                                        <div class="col-xs-7" ng-show="imageCropStep != 1"
                                                             style="box-shadow: inset 0 0 1em #34495E;">
                                                            <!-- <image-crop
                                                               data-height="200" //shape's height
                                                               data-width="150" //shape's width
                                                               data-shape="square" //the shape.. square or circle
                                                               data-step="imageCropStep"//scope variable that will contain the current step of the crop (1. Waiting for source image; 2. Image loaded, waiting for crop; 3. Crop done)
                                                               src="imgSrc" //scope variable that will be the source image for the crop (may be a Blob or base64 string)
                                                               data-result-blob="result" //scope variable that will contain the Blob information
                                                               data-result="resultDataUrl" //scope variable that will contain the image's base64 string representation
                                                               crop="initCrop" //scope variable that must be set to true when the image is ready to be cropped
                                                               padding="250" //space, in pixels, rounding the shape
                                                               max-size="1024" //max of the image, in pixels
                                                               ></image-crop> -->
                                                            <image-crop data-height="220" data-width="220"
                                                                        data-shape="square" data-step="imageCropStep"
                                                                        src="imgSrc" data-result="result"
                                                                        data-result-blob="resultBlob" crop="initCrop"
                                                                        padding="250" max-size="1024"></image-crop>
                                                        </div>
                                                        <div class="col-xs-5">
                                                            <div ng-show="imageCropStep == 2">
                                                                <br/>
                                                                <button ng-click="clear()"
                                                                        class="btn btn-default input-sm pull-left">
                                                                    Volver a
                                                                    Seleccionar
                                                                </button>
                                                                <button ng-click="initCrop = true"
                                                                        class="btn btn-success input-sm pull-right">
                                                                    Cortar
                                                                    Imagen
                                                                </button>
                                                            </div>
                                                            <div ng-show="imageCropStep == 3">
                                                                <img class="avatar-view" style="margin: 0 auto;"
                                                                     ng-src="{{result}}"/>
                                                                <div class="clearfix"></div>
                                                                <div class="ln_solid"></div>
                                                                <div class="col-xs-12">
                                                                    <button ng-click="uploadAvatar()" type="button"
                                                                            data-dismiss="modal"
                                                                            class="btn btn-success input-sm pull-right">
                                                                        Guardar Cambios
                                                                    </button>
                                                                    <button ng-click="clear()" type="button"
                                                                            class="btn btn-default input-sm pull-left">
                                                                        Volver a Seleccionar
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="clearfix"></div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">
                                                        Cancelar
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Loading state -->
                                    <div class="loading" aria-label="Loading" role="img" tabindex="-1"></div>
                                </div>
                                <!-- end of image cropping -->
                            </div>
                            <br>
                            <div class="clearfix"></div>
                            <h3>{{copyuser.name}} {{copyuser.surname}}</h3>
                            <ul class="list-unstyled user_data">
                                <li><i style="margin-right:6px" class="fa fa-map-marker user-profile-icon"></i>&nbsp;&nbsp;{{copyuser.address}}
                                </li>
                                <li><i class="fa fa-envelope user-profile-icon"></i>&nbsp;&nbsp;{{copyuser.email}}</li>
                                <li><i style="margin-right:5px" class="fa fa-phone user-profile-icon"></i>&nbsp;&nbsp;{{copyuser.mobile}}
                                </li>
                            </ul>
                            <a class="btn btn-success btn-sm" data-toggle="modal"
                               data-target=".password-change-modal-sm">
                                <i class="fa fa-lock m-right-xs"></i> Cambiar Contraseña</a>
                        </div>
                        <div class="col-md-8 col-sm-12 col-xs-12">
                            <form id="user-form2" name="userForm2" class="form-horizontal form-label-left" novalidate
                                  autocomplete="off">
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12" for="name">Nombre <span
                                                class="required">*</span>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input ng-model="user.name" type="text" ng-validate="defaultValidationStrategy"
                                               name="name" required="required" class="form-control col-md-7 col-xs-12"
                                               data-validate-length-range="3">
                                    </div>
                                </div>
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12" for="name">Apellido <span
                                                class="required">*</span>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input ng-model="user.surname" type="text"
                                               ng-validate="defaultValidationStrategy" name="surname"
                                               required="required" class="form-control col-md-7 col-xs-12"
                                               data-validate-length-range="3">
                                    </div>
                                </div>
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12" for="email">Email <span
                                                class="required">*</span>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input ng-model="user.email" type="email" ng-validate="emailValidationStrategy"
                                               name="email" required="required" class="form-control col-md-7 col-xs-12">
                                    </div>
                                </div>
                                <!--<div class="item form-group">-->
                                <!--<label class="control-label col-md-3 col-sm-3 col-xs-12" for="telephone">Teléfono-->
                                <!--<span class="required">*</span>-->
                                <!--</label>-->
                                <!--<div class="col-md-6 col-sm-6 col-xs-12">-->
                                <!--<input ng-model="user.telephone" type="text"-->
                                <!--ng-validate="phoneValidationStrategy" name="telephone"-->
                                <!--class="form-control"-->
                                <!--required="required" class="form-control col-md-7 col-xs-12">-->
                                <!--</div>-->
                                <!--</div>-->
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12" for="telephone">Móvil
                                        <span class="required">*</span>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input ng-model="user.mobile" type="number" ng-validate="mobilePValidationStrategy"
                                               name="mobile" required
                                               class="form-control col-md-7 col-xs-12">
                                    </div>
                                </div>
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12" for="telephone">Web
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input ng-model="user.web" type="text" ng-validate="urlValidationStrategy"
                                               name="web"
                                               class="form-control col-md-7 col-xs-12">
                                    </div>
                                </div>
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12" for="address">Ciudad <span
                                                class="required">*</span>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input ng-model="user.address" type="text"
                                               ng-validate="defaultValidationStrategy" name="address"
                                               class="form-control col-md-7 col-xs-12"
                                               required="required"/>
                                    </div>
                                </div>
                                <!--<% if (M_USER.permissions.isAdmin) { %>-->
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12" for="address">Comisión
                                        <span
                                                class="required">*</span>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input class="date-picker form-control col-md-7 col-xs-12" required="required"
                                               type="text" name="commission" ng-model="user.commission"
                                               ng-validate="percentValidationStrategy">
                                        <ul class="parsley-errors-list" id="parsley-id-7160"></ul>
                                        <span class="form-control-feedback right" aria-hidden="true"><i
                                                    class="green">%</i></span>
                                    </div>
                                </div>
                                <!--<% } %>-->
                                <div class="item form-group">
                                    <label class="control-label col-md-3 col-sm-3 col-xs-12" for="typep">
                                        Tipo de propietario
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <div class="radio">
                                            <label>
                                                <input type="radio" ng-model="user.permissions.typeShipOwner"
                                                       ng-value="0"
                                                       id="optionsRadios1"
                                                       name="optionsRadios"> Particular
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input type="radio" ng-model="user.permissions.typeShipOwner"
                                                       ng-value="1"
                                                       id="optionsRadios2"
                                                       name="optionsRadios"> Empresa
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="ln_solid"></div>
                                <div class="form-group">
                                    <div class="col-md-6 col-md-offset-3">
                                        <button ng-disabled="!userForm2.$valid" ng-click="update()" type="button"
                                                class="btn btn-success">
                                            Guardar
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--  modal -->
    <div ng-cloak class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true"><i class="fa fa-close"></i></span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel2">Elimiar usuario</h4>
                </div>
                <div class="modal-body">
                    <div class="center-block col-xs-4 text-center">
                        <img ng-src="{{user.avatar ? '/service/media/'+user.avatar : '/backend/gentelella/images/user.png'}}"
                             alt="" class="img-circle img-responsive">

                    </div>
                    <div class="col-sm-12">
                        <div class="left col-xs-12">
                            <h2>{{user.name}}</h2>
                            <p><strong>Fecha de Registro: </strong>{{user.registerDate|date :'dd/MM/yyyy'}}</p>
                            <ul class="list-unstyled">
                                <li><i class="fa fa-envelope"></i> {{user.email}}</li>
                                <li>
                                    <i style="width: 13px;height: 13px" class="fa fa-phone"></i> {{user.mobile}}
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="remove()">Eliminar
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div ng-cloak class="modal fade view-messages" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true"><i class="fa fa-close"></i></span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel2">Elimiar usuario</h4>
                </div>
                <div class="modal-body">
                    <div class="accordion" id="accordion" role="tablist" aria-multiselectable="true">
                        <div class="panel" ng-repeat="cv in user.conversations|orderBy:'-conversation.client.date'">
                            <a class="panel-heading collapsed" role="tab" id="headingOne{{$index}}"
                               data-toggle="collapse" data-parent="#accordion" ng-href="#id{{$index}}"
                               aria-expanded="false" aria-controls="collapseOne">
                                <h4 class="panel-title">{{cv.conversation.client.email}}
                                    <strong class="pull-right text-left ng-binding">{{cv.conversation.client.date|date:'dd/MM/yyyy
                                        h:mm a'}}</strong>
                                </h4>
                            </a>
                            <div id="id{{$index}}" class="panel-collapse collapse" role="tabpanel"
                                 aria-labelledby="headingOne" aria-expanded="false"
                                 style="height: 0px;">
                                <div class="panel-body">
                                    <div class="col-xs-12">
                                        <div class="col-xs-2">
                                            <div class="profile">
                                                <div class="profile_pic" style="width: 100%;">
                                                    <img ng-src="/backend/gentelella/images/user.png" alt="..."
                                                         class="img-circle profile_img" style="    margin-top: 0px;"
                                                         src="/backend/gentelella/images/user.png">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-10">
                                            <div class="request-chat-body ng-binding">
                                                {{cv.conversation.client.text}}
                                            </div>
                                            <strong class="pull-right text-left ng-binding">{{cv.conversation.client.date|date:'dd/MM/yyyy
                                                h:mm a'}}</strong>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="col-xs-12" style="margin-top: 10px;">
                                        <div class="col-xs-10">
                                            <div class="request-chat-body-down ng-binding">
                                                {{cv.conversation.owner.text}}
                                            </div>
                                            <strong class="pull-right text-left ng-binding">{{cv.conversation.owner.date|date:'dd/MM/yyyy
                                                h:mm a'}}</strong>
                                        </div>
                                        <div class="col-xs-2">
                                            <div class="profile">
                                                <div class="profile_pic" style="width: 100%;">
                                                    <img ng-src="/service/media/{{user.avatar}}" alt="..."
                                                         class="img-circle profile_img" style="    margin-top: 0px;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="remove()">Eliminar
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div ng-cloak class="modal fade password-change-modal-sm" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true"><i class="fa fa-close"></i></span>
                    </button>
                    <h4>{{user.name}}</h4>
                </div>
                <div class="modal-body">
                    <form id="demo-form" data-parsley-validate="" novalidate="" autocomplete="off">
                        <label for="fullname">Nueva Contraseña * :</label>
                        <input ng-model="password.new" type="password" id="fullname" class="form-control"
                               name="password" required>
                        <label for="email">Repetir Contraseña * :</label>
                        <input ng-model="password.repeat" type="password" id="fullname" class="form-control"
                               name="password1" required>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                    <button ng-disabled="password.new.length<6 || password.new != password.repeat" type="button"
                            class="btn btn-primary" data-dismiss="modal"
                            ng-click="changePassword()">Cambiar
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- /modals -->
</div>
<!-- /page content -->